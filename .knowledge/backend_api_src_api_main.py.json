{"is_source_file": true, "format": "Python", "description": "FastAPI backend service that provides HTML parsing, element identification, and Selenium script generation endpoints for automated web testing. Implements endpoints for health checks, parsing HTML test steps, and generating Selenium scripts using Gemini LLM.", "external_files": ["fastapi", "pydantic", "bs4", "httpx", "fastapi.middleware.cors", "os"], "external_methods": ["FastAPI()", "Body", "HTTPException", "CORSMiddleware", "BaseModel", "Field", "BeautifulSoup", "httpx.AsyncClient", "os.environ.get"], "published": ["app", "parse_html_test_steps", "generate_selenium_script"], "classes": [{"name": "TestStep", "description": "Model for a test step with natural language description."}, {"name": "HTMLTestParseRequest", "description": "Request model containing HTML and a list of test steps to parse."}, {"name": "ElementMatch", "description": "Model for the matching HTML element info corresponding to a test step."}, {"name": "HTMLTestParseResponse", "description": "Response model containing list of matched elements for each test step."}, {"name": "GenerateSeleniumRequest", "description": "Request model to generate Selenium script, including HTML and steps."}, {"name": "GenerateSeleniumResponse", "description": "Response model with generated Selenium script and locators."}], "methods": [{"name": "Dict[str,str] _extract_element_reference(step: str)", "description": "Parses a test step description to extract potential element reference info such as id, class, text, or xpath.", "scope": "", "scopeKind": ""}, {"name": "_find_element(soup: BeautifulSoup, ref: Dict[str, str])", "description": "Uses BeautifulSoup to find an element in the HTML soup based on reference info.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] _element_to_dict(element)", "description": "Serializes a BeautifulSoup element into a dictionary with tag, attributes, and text.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Simple GET endpoint for service health status.", "scope": "", "scopeKind": ""}, {"name": "parse_html_test_steps(payload: HTMLTestParseRequest = Body(...))", "description": "POST endpoint that receives HTML and test steps, parses the HTML, and matches each step to an element.", "scope": "", "scopeKind": ""}, {"name": "generate_selenium_script(payload: GenerateSeleniumRequest = Body(...))", "description": "POST endpoint that receives HTML and test steps, determines locators, and uses Gemini API to generate Selenium code.", "scope": "", "scopeKind": ""}], "calls": ["BeautifulSoup", "app.add_middleware", "app.get", "app.post", "httpx.AsyncClient", "os.environ.get"], "search-terms": ["parse_html_test_steps", "generate_selenium_script", "TestStep", "HTMLTestParseRequest", "ElementMatch", "Gemini", "Selenium", "FastAPI backend", "HTML element matching", "Automated Selenium script generator"], "state": 2, "file_id": 3, "knowledge_revision": 14, "git_revision": "950afb20dffdf8570859e53f674a5cda358dccba", "revision_history": [{"9": "2ef0a4471698cc925e6ea9732503e39c3562ee61"}, {"12": "2ef0a4471698cc925e6ea9732503e39c3562ee61"}, {"13": "950afb20dffdf8570859e53f674a5cda358dccba"}, {"14": "950afb20dffdf8570859e53f674a5cda358dccba"}], "ctags": [{"_type": "tag", "name": "ElementMatch", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class ElementMatch(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GenerateSeleniumRequest", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class GenerateSeleniumRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GenerateSeleniumResponse", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class GenerateSeleniumResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HTMLTestParseRequest", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class HTMLTestParseRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HTMLTestParseResponse", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class HTMLTestParseResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestStep", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class TestStep(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_element_to_dict", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def _element_to_dict(element) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(element)"}, {"_type": "tag", "name": "_extract_element_reference", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def _extract_element_reference(step: str) -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "(step: str)"}, {"_type": "tag", "name": "_find_element", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def _find_element(soup: BeautifulSoup, ref: Dict[str, str]):$/", "language": "Python", "kind": "function", "signature": "(soup: BeautifulSoup, ref: Dict[str, str])"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    description: str = Field(..., description=\"Description of the test step, such as 'Click the /", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TestStep", "scopeKind": "class"}, {"_type": "tag", "name": "elements", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    elements: List[ElementMatch] = Field(..., description=\"List of matched HTML elements per tes/", "language": "Python", "typeref": "typename:List[ElementMatch]", "kind": "variable", "scope": "HTMLTestParseResponse", "scopeKind": "class"}, {"_type": "tag", "name": "generate_selenium_script", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^async def generate_selenium_script(payload: GenerateSeleniumRequest = Body(...)):$/", "language": "Python", "kind": "function", "signature": "(payload: GenerateSeleniumRequest = Body(...))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "html", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    html: str = Field(..., description=\"Full HTML of web page.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GenerateSeleniumRequest", "scopeKind": "class"}, {"_type": "tag", "name": "html", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    html: str = Field(..., description=\"The HTML source to be parsed.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "HTMLTestParseRequest", "scopeKind": "class"}, {"_type": "tag", "name": "locators", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    locators: List[Dict[str, Any]] = Field(..., description=\"Locator info extracted for steps.\")$/", "language": "Python", "typeref": "typename:List[Dict[str, Any]]", "kind": "variable", "scope": "GenerateSeleniumResponse", "scopeKind": "class"}, {"_type": "tag", "name": "match_method", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    match_method: str = Field(..., description=\"How the element was identified (id, class, name,/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "matched_element", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    matched_element: Dict[str, Any] = Field(..., description=\"Dictionary of info about the match/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "parse_html_test_steps", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def parse_html_test_steps(payload: HTMLTestParseRequest = Body(...)):$/", "language": "Python", "kind": "function", "signature": "(payload: HTMLTestParseRequest = Body(...))"}, {"_type": "tag", "name": "selenium_script", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    selenium_script: str = Field(..., description=\"Python code for Selenium (generated).\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GenerateSeleniumResponse", "scopeKind": "class"}, {"_type": "tag", "name": "step_description", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    step_description: str = Field(..., description=\"Original test step description.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "step_index", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    step_index: int = Field(..., description=\"Index of the corresponding test step.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "test_steps", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    test_steps: List[TestStep] = Field(..., description=\"A list of test step descriptions refere/", "language": "Python", "typeref": "typename:List[TestStep]", "kind": "variable", "scope": "HTMLTestParseRequest", "scopeKind": "class"}, {"_type": "tag", "name": "test_steps", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    test_steps: List[str] = Field(..., description=\"List of user-specified test steps (plain Eng/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "GenerateSeleniumRequest", "scopeKind": "class"}], "hash": "1e0a65e05a6349d0d55c87d95da33228", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str description", "scope": "TestStep", "scopeKind": "class", "description": "unavailable"}, {"name": "List[ElementMatch] elements", "scope": "HTMLTestParseResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str html", "scope": "GenerateSeleniumRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Dict[str, Any]] locators", "scope": "GenerateSeleniumResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str match_method", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] matched_element", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "str selenium_script", "scope": "GenerateSeleniumResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str step_description", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "int step_index", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "List[TestStep] test_steps", "scope": "HTMLTestParseRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] test_steps", "scope": "GenerateSeleniumRequest", "scopeKind": "class", "description": "unavailable"}]}