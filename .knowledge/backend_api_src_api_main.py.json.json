{"is_source_file": true, "format": "Python", "description": "A backend API implementation using FastAPI for parsing HTML and identifying relevant elements based on natural language test step descriptions, aimed at Selenium script automation.", "external_files": ["fastapi", "pydantic", "bs4 (BeautifulSoup)"], "external_methods": ["FastAPI", "Body", "CORSMiddleware", "BaseModel", "Field", "BeautifulSoup"], "published": ["parse_html_test_steps", "health_check"], "classes": [{"name": "TestStep", "description": "Model representing a test step with a description."}, {"name": "HTMLTestParseRequest", "description": "Model for the request body containing HTML and test steps."}, {"name": "ElementMatch", "description": "Model representing matched HTML element info for a test step."}, {"name": "HTMLTestParseResponse", "description": "Model representing the response with matched elements for each test step."}], "methods": [{"name": "Dict[str,str] _extract_element_reference(step: str)", "description": "Parses test step text to find references to HTML elements using heuristics and regex patterns.", "scope": "", "scopeKind": ""}, {"name": "_find_element(soup: BeautifulSoup, ref: Dict[str, str])", "description": "Finds an HTML element in BeautifulSoup using reference info like id, class, or text.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] _element_to_dict(element)", "description": "Converts a BeautifulSoup element into a serializable dictionary.", "scope": "", "scopeKind": ""}, {"name": "parse_html_test_steps(payload: HTMLTestParseRequest = Body(...))", "description": "Main API endpoint that receives HTML and test steps, and returns matched HTML elements.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "A health check endpoint to verify the API service is running.", "scope": "", "scopeKind": ""}], "calls": ["BeautifulSoup", "soup.find", "re.search"], "search-terms": ["HTML parsing", "test step element matching", "BeautifulSoup-based element extraction", "FastAPI HTML test parsing"], "state": 2, "file_id": 3, "knowledge_revision": 12, "git_revision": "2ef0a4471698cc925e6ea9732503e39c3562ee61", "revision_history": [{"9": "2ef0a4471698cc925e6ea9732503e39c3562ee61"}, {"12": "2ef0a4471698cc925e6ea9732503e39c3562ee61"}], "ctags": [{"_type": "tag", "name": "ElementMatch", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class ElementMatch(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HTMLTestParseRequest", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class HTMLTestParseRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HTMLTestParseResponse", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class HTMLTestParseResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestStep", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^class TestStep(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_element_to_dict", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def _element_to_dict(element) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(element)"}, {"_type": "tag", "name": "_extract_element_reference", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def _extract_element_reference(step: str) -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "(step: str)"}, {"_type": "tag", "name": "_find_element", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def _find_element(soup: BeautifulSoup, ref: Dict[str, str]):$/", "language": "Python", "kind": "function", "signature": "(soup: BeautifulSoup, ref: Dict[str, str])"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    description: str = Field(..., description=\"Description of the test step, such as 'Click the /", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TestStep", "scopeKind": "class"}, {"_type": "tag", "name": "elements", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    elements: List[ElementMatch] = Field(..., description=\"List of matched HTML elements per tes/", "language": "Python", "typeref": "typename:List[ElementMatch]", "kind": "variable", "scope": "HTMLTestParseResponse", "scopeKind": "class"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "html", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    html: str = Field(..., description=\"The HTML source to be parsed.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "HTMLTestParseRequest", "scopeKind": "class"}, {"_type": "tag", "name": "match_method", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    match_method: str = Field(..., description=\"How the element was identified (id, class, name,/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "matched_element", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    matched_element: Dict[str, Any] = Field(..., description=\"Dictionary of info about the match/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "parse_html_test_steps", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^def parse_html_test_steps(payload: HTMLTestParseRequest = Body(...)):$/", "language": "Python", "kind": "function", "signature": "(payload: HTMLTestParseRequest = Body(...))"}, {"_type": "tag", "name": "step_description", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    step_description: str = Field(..., description=\"Original test step description.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "step_index", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    step_index: int = Field(..., description=\"Index of the corresponding test step.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ElementMatch", "scopeKind": "class"}, {"_type": "tag", "name": "test_steps", "path": "/home/kavia/workspace/code-generation/automated-selenium-script-generator-bcdf9884/backend_api/src/api/main.py", "pattern": "/^    test_steps: List[TestStep] = Field(..., description=\"A list of test step descriptions refere/", "language": "Python", "typeref": "typename:List[TestStep]", "kind": "variable", "scope": "HTMLTestParseRequest", "scopeKind": "class"}], "hash": "4057d21aed78b537491b01832a535d04", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str description", "scope": "TestStep", "scopeKind": "class", "description": "unavailable"}, {"name": "List[ElementMatch] elements", "scope": "HTMLTestParseResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str html", "scope": "HTMLTestParseRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str match_method", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] matched_element", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "str step_description", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "int step_index", "scope": "ElementMatch", "scopeKind": "class", "description": "unavailable"}, {"name": "List[TestStep] test_steps", "scope": "HTMLTestParseRequest", "scopeKind": "class", "description": "unavailable"}]}